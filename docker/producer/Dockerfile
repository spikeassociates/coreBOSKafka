FROM openjdk
ARG API_BASE_URL
ARG KAFKA_HOST
ARG TOPIC_NAME
ARG PAGE_SIZE
ARG API_KEY
ARG FILTER_BY_CURRENT_DATE_FLAG
ARG END_POINT
ARG FILTER_BY_THIS_DATE
ARG FILTER_START_DATE
ARG FILTER_END_DATE

ENV API_BASE_URL "$API_BASE_URL"
ENV KAFKA_HOST "$KAFKA_HOST"
ENV TOPIC_NAME "$TOPIC_NAME"
ENV PAGE_SIZE "$PAGE_SIZE"
ENV API_KEY "$API_KEY"
ENV FILTER_BY_CURRENT_DATE_FLAG "$FILTER_BY_CURRENT_DATE_FLAG"
ENV END_POINT "$END_POINT"
ENV FILTER_BY_THIS_DATE "$FILTER_BY_THIS_DATE"
ENV FILTER_START_DATE "$FILTER_START_DATE"
ENV FILTER_END_DATE "$FILTER_END_DATE"

MAINTAINER Mario Anthony "m.mbinda@spikeassociates.com"
COPY deploy /opt/kafka/producer
WORKDIR /opt/kafka/producer
CMD java -cp corebos-1.0-SNAPSHOT-jar-with-dependencies.jar RESTAPIProducerExe